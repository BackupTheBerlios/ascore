
		<html>
		<head>
		<title>Documentacion CoreG2 Funcion plParseTemplateHeader</title>
		</head>
		<style>
		body 		{font-family:verdana,sans,serif; font-size:10px;}
		.mini		{font-size:8px;}
		.box		{border:1px solid gray;background:#EEEEFF;}
		.desc		{font-size:12px;border:1px solid gray; padding:5px;}   
		</style>
		<body>
		<h1>CoreG2 version 0.99.9</h1>
		<h2>plParseTemplateHeader</h2>
		<span class="mini">Fichero /local/trabajo/ctap/Framework/../Framework/Lib/lib_list_ng.php</span>
		<br><br><br><br><div class="desc">        }
</div>
<br><div class="box"><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$styles</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$nn</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$PET</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(empty(</font><font color="#0000BB">$dat</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$dat&nbsp;</font><font color="#007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$copy&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">data</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$nn&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">0</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$cut&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_array_search_fuzz</font><font color="#007700">(</font><font color="#0000BB">$copy</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">mark</font><font color="#007700">[</font><font color="#DD0000">"set"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"SET&nbsp;Encontrado&nbsp;en&nbsp;$cut"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$head&nbsp;</font><font color="#007700">=&nbsp;(</font><font color="#0000BB">$cut&nbsp;</font><font color="#007700">!==&nbsp;</font><font color="#0000BB">FALSE</font><font color="#007700">)&nbsp;?&nbsp;</font><font color="#0000BB">array_splice</font><font color="#007700">(</font><font color="#0000BB">$copy</font><font color="#007700">,&nbsp;</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$cut</font><font color="#007700">)&nbsp;:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$copy</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">implode</font><font color="#007700">(</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$head</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$styles&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">preg_match_all</font><font color="#007700">(</font><font color="#DD0000">"/dynamic_class_$name/"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$null</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Navvars&nbsp;patch&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAV_SEPARATOR"</font><font color="#007700">]&nbsp;==&nbsp;</font><font color="#DD0000">"/"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$chunk&nbsp;</font><font color="#007700">=&nbsp;(</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"navvars=on"</font><font color="#007700">)&nbsp;!==&nbsp;</font><font color="#0000BB">false</font><font color="#007700">)?(</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"navvars=on"</font><font color="#007700">)):<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"ROOT"</font><font color="#007700">].</font><font color="#DD0000">"/"</font><font color="#007700">.(</font><font color="#0000BB">substr</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$chunk</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"Navvars&nbsp;init&nbsp;$navvars&nbsp;POS="</font><font color="#007700">.</font><font color="#0000BB">$chunk</font><font color="#007700">.</font><font color="#DD0000">"($PET)"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"green"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR_I"]}navvars=on"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAVVARS"</font><font color="#007700">]&nbsp;as&nbsp;</font><font color="#0000BB">$k&nbsp;</font><font color="#007700">=&gt;&nbsp;</font><font color="#0000BB">$v</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR"]}$v="</font><font color="#007700">.</font><font color="#0000BB">$GLOBALS</font><font color="#007700">[</font><font color="#0000BB">$v</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$nextpage&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">.</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$prevpage&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">.</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"prevP"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</font><font color="#0000BB">$j&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$dat_size&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">sizeof</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]);&nbsp;</font><font color="#0000BB">$j&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">$dat_size</font><font color="#007700">;&nbsp;</font><font color="#0000BB">$j</font><font color="#007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//debug(key($SYS["GLOBAL"])."-".current($SYS["GLOBAL"])."-&nbsp;$i");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">])&nbsp;==&nbsp;</font><font color="#0000BB">FALSE</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Patch&nbsp;20070501&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">])&nbsp;&lt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Patch&nbsp;20070501&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Smart&nbsp;pag&nbsp;links&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">]&nbsp;&lt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;IFPAGER1&nbsp;--&gt;.*&lt;!--&nbsp;FIPAGER1&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;IFPAGER2&nbsp;--&gt;.*&lt;!--&nbsp;FIPAGER2&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">]&nbsp;&gt;&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)&nbsp;&amp;&amp;&nbsp;(</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"offset"</font><font color="#007700">]&nbsp;&lt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;IFPAGER1&nbsp;--&gt;.*&lt;!--&nbsp;FIPAGER1&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//else&nbsp;if&nbsp;(($dat["nextP"]&gt;=$dat["totalPages"]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">else&nbsp;if&nbsp;((</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">]&nbsp;==&nbsp;</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"offset"</font><font color="#007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;IFPAGER2&nbsp;--&gt;.*&lt;!--&nbsp;FIPAGER2&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Smart&nbsp;pag&nbsp;links&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">for&nbsp;(</font><font color="#0000BB">$i</font><font color="#007700">;&nbsp;</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">sizeof</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">);&nbsp;</font><font color="#0000BB">$i</font><font color="#007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)&nbsp;==&nbsp;</font><font color="#0000BB">False</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Patch&nbsp;20070501&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)&nbsp;&lt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Patch&nbsp;20070501&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;D:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">is_numeric</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;S:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">number_format</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">2</font><font color="#007700">,&nbsp;</font><font color="#DD0000">','</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'.'</font><font color="#007700">).</font><font color="#DD0000">"&amp;euro;"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;S:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;F:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">sprintf</font><font color="#007700">(</font><font color="#DD0000">"%.5f"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;E:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">number_format</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">2</font><font color="#007700">,&nbsp;</font><font color="#DD0000">','</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'.'</font><font color="#007700">),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;V:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">sprintf</font><font color="#007700">(</font><font color="#DD0000">"%.0f"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;A:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%d/%m/%Y&nbsp;"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;H:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%d/%m/%Y&nbsp;%H:%S"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;R:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">int_to_text_ex</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:nextpage&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$nextpage</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:prevpage&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$prevpage</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:navvars&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\(\"(.*)\"\)&nbsp;--&gt;/e"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"\\1('\\2')"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\('(.*)'\)&nbsp;--&gt;/e"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"\\1('\\2')"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\((.*)\)&nbsp;--&gt;/e"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"\\1(\\2)"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">.</font><font color="#DD0000">"&lt;!--&nbsp;END&nbsp;OF&nbsp;PARSEHEADER&nbsp;--&gt;\n"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</font><font color="#0000BB">plParseTemplateFooter</font><font color="#007700">(</font><font color="#0000BB">$dat&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#DD0000">""</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$PET</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(empty(</font><font color="#0000BB">$dat</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$dat&nbsp;</font><font color="#007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$copy&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">data</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$cut&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_array_search_fuzz</font><font color="#007700">(</font><font color="#0000BB">$copy</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">mark</font><font color="#007700">[</font><font color="#DD0000">"end"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$head&nbsp;</font><font color="#007700">=&nbsp;(</font><font color="#0000BB">$cut</font><font color="#007700">)&nbsp;?&nbsp;</font><font color="#0000BB">array_splice</font><font color="#007700">(</font><font color="#0000BB">$copy</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$cut</font><font color="#007700">)&nbsp;:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$copy</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">implode</font><font color="#007700">(</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$head</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Navvars&nbsp;patch&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAV_SEPARATOR"</font><font color="#007700">]&nbsp;==&nbsp;</font><font color="#DD0000">"/"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$chunk&nbsp;</font><font color="#007700">=&nbsp;(</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"navvars=on"</font><font color="#007700">)&nbsp;!==&nbsp;</font><font color="#0000BB">false</font><font color="#007700">)?(</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"navvars=on"</font><font color="#007700">)):<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"ROOT"</font><font color="#007700">].</font><font color="#DD0000">"/"</font><font color="#007700">.(</font><font color="#0000BB">substr</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$chunk</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"Navvars&nbsp;init&nbsp;$navvars&nbsp;POS="</font><font color="#007700">.</font><font color="#0000BB">$chunk</font><font color="#007700">.</font><font color="#DD0000">"($PET)"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"green"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR_I"]}navvars=on"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAVVARS"</font><font color="#007700">]&nbsp;as&nbsp;</font><font color="#0000BB">$k&nbsp;</font><font color="#007700">=&gt;&nbsp;</font><font color="#0000BB">$v</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR"]}$v="</font><font color="#007700">.</font><font color="#0000BB">$GLOBALS</font><font color="#007700">[</font><font color="#0000BB">$v</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$nextpage&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">.</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$prevpage&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">.</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"prevP"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//dataDump($dat);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Smart&nbsp;pag&nbsp;links&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;"&lt;pre&gt;";print_r($dat);echo&nbsp;"&lt;/pre&gt;";die();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;"{$dat["nextP"]}&gt;={$dat["totalPages"]}:{$dat["offset"]}";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">]&nbsp;&lt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;IFPAGER1&nbsp;--&gt;.*&lt;!--&nbsp;FIPAGER1&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;IFPAGER2&nbsp;--&gt;.*&lt;!--&nbsp;FIPAGER2&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">]&nbsp;&gt;&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)&nbsp;&amp;&amp;&nbsp;(</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"offset"</font><font color="#007700">]&nbsp;&lt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;IFPAGER1&nbsp;--&gt;.*&lt;!--&nbsp;FIPAGER1&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">]&nbsp;==&nbsp;</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"offset"</font><font color="#007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;IFPAGER2&nbsp;--&gt;.*&lt;!--&nbsp;FIPAGER2&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Smart&nbsp;pag&nbsp;links&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">for&nbsp;(</font><font color="#0000BB">$j&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$dat_size&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">sizeof</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]);&nbsp;</font><font color="#0000BB">$j&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">$dat_size</font><font color="#007700">;&nbsp;</font><font color="#0000BB">$j</font><font color="#007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//debug(key($SYS["GLOBAL"])."-".current($SYS["GLOBAL"])."-&nbsp;$i");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">])&nbsp;==&nbsp;</font><font color="#0000BB">FALSE</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">])&nbsp;&lt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</font><font color="#0000BB">$i</font><font color="#007700">;&nbsp;</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">sizeof</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">);&nbsp;</font><font color="#0000BB">$i</font><font color="#007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)&nbsp;==&nbsp;</font><font color="#0000BB">False</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Patch&nbsp;20070501&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)&nbsp;&lt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NI:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#DD0000">''</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Patch&nbsp;20070501&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;D:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">is_numeric</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;S:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">number_format</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">2</font><font color="#007700">,&nbsp;</font><font color="#DD0000">','</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'.'</font><font color="#007700">).</font><font color="#DD0000">"&amp;euro;"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;S:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;F:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">sprintf</font><font color="#007700">(</font><font color="#DD0000">"%.5f"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;E:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">number_format</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">2</font><font color="#007700">,&nbsp;</font><font color="#DD0000">','</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'.'</font><font color="#007700">),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;V:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">sprintf</font><font color="#007700">(</font><font color="#DD0000">"%.0f"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;A:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%d/%m/%Y"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;H:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%d/%m/%Y&nbsp;%H:%S"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;R:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">int_to_text_ex</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:nextpage&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$nextpage</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:prevpage&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$prevpage</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:navvars&nbsp;--&gt;'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\(\"(.*)\"\)&nbsp;--&gt;/e"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"\\1('\\2')"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\('(.*)'\)&nbsp;--&gt;/e"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"\\1('\\2')"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\((.*)\)&nbsp;--&gt;/e"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"\\1(\\2)"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">.</font><font color="#DD0000">"&lt;!--&nbsp;END&nbsp;OF&nbsp;PARSEFOOTER&nbsp;--&gt;\n"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</font><font color="#0000BB">listList</font><font color="#007700">(</font><font color="#0000BB">$psObject</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$campos</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$template</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$navigation_vars&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#DD0000">""</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$parset&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$TOTALTIME</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$offset</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$styles</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$nn</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$FFPATCH</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">sc&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$sc</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">mod&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$mod</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">pag&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$pag</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">offset&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$offset</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$users&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">InitTemplate</font><font color="#007700">(</font><font color="#0000BB">$template</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$count&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">0</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAV_SEPARATOR"</font><font color="#007700">]&nbsp;==&nbsp;</font><font color="#DD0000">"/"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$chunk&nbsp;</font><font color="#007700">=&nbsp;(</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"navvars=on"</font><font color="#007700">)&nbsp;!==&nbsp;</font><font color="#0000BB">false</font><font color="#007700">)?(</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"navvars=on"</font><font color="#007700">)):<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"ROOT"</font><font color="#007700">].</font><font color="#DD0000">"/"</font><font color="#007700">.(</font><font color="#0000BB">substr</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$chunk</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"Navvars&nbsp;init&nbsp;$navvars&nbsp;POS="</font><font color="#007700">.</font><font color="#0000BB">$chunk</font><font color="#007700">.</font><font color="#DD0000">"($PET)"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"green"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$navigation_vars&nbsp;</font><font color="#007700">&gt;&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">base64_encode</font><font color="#007700">(</font><font color="#0000BB">serialize</font><font color="#007700">(</font><font color="#0000BB">$navigation_vars</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">navvars&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Paginacion&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$T&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">totalPages</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$W&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"DEFAULTROWS"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$N&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ceil</font><font color="#007700">(</font><font color="#0000BB">$T</font><font color="#007700">/</font><font color="#0000BB">$W</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#DD0000">""</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$FFPATCH&nbsp;</font><font color="#007700">===&nbsp;</font><font color="#0000BB">true</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#DD0000">""</font><font color="#007700">.</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">totalPages</font><font color="#007700">.</font><font color="#DD0000">"&nbsp;elementos&lt;br&nbsp;/&gt;&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$T&nbsp;</font><font color="#007700">&gt;&nbsp;</font><font color="#0000BB">$W</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#DD0000">"Pginas&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAV_SEPARATOR"</font><font color="#007700">]&nbsp;==&nbsp;</font><font color="#DD0000">"/"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$chunk&nbsp;</font><font color="#007700">=&nbsp;(</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"navvars=on"</font><font color="#007700">)&nbsp;!==&nbsp;</font><font color="#0000BB">false</font><font color="#007700">)?(</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"navvars=on"</font><font color="#007700">)):<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"ROOT"</font><font color="#007700">].</font><font color="#DD0000">"/"</font><font color="#007700">.(</font><font color="#0000BB">substr</font><font color="#007700">(</font><font color="#0000BB">$PET</font><font color="#007700">,&nbsp;</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$chunk</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"Navvars&nbsp;init&nbsp;$navvars&nbsp;POS="</font><font color="#007700">.</font><font color="#0000BB">$chunk</font><font color="#007700">.</font><font color="#DD0000">"($PET)"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"green"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/****************&nbsp;mod_rewrite&nbsp;patch&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR_I"]}navvars=on"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAVVARS"</font><font color="#007700">]&nbsp;as&nbsp;</font><font color="#0000BB">$k&nbsp;</font><font color="#007700">=&gt;&nbsp;</font><font color="#0000BB">$v</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"{$SYS["NAV_SEPARATOR"]}$v="</font><font color="#007700">.</font><font color="#0000BB">$GLOBALS</font><font color="#007700">[</font><font color="#0000BB">$v</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"Navvars&nbsp;built&nbsp;$navvars"</font><font color="#007700">,&nbsp;</font><font color="#DD0000">"green"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$N&nbsp;</font><font color="#007700">&gt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$N&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">7</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">0</font><font color="#007700">;&nbsp;</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">$N</font><font color="#007700">;&nbsp;</font><font color="#0000BB">$i</font><font color="#007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((</font><font color="#0000BB">$offset</font><font color="#007700">/</font><font color="#0000BB">$W</font><font color="#007700">)&nbsp;==&nbsp;(</font><font color="#0000BB">$i</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">==&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"&lt;a&nbsp;style=\"text-decoration:underline;text-weight:bold;\"&nbsp;href=\"$navvars{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">*&nbsp;</font><font color="#0000BB">$W</font><font color="#007700">).</font><font color="#DD0000">"\"&gt;"</font><font color="#007700">.(</font><font color="#0000BB">$i</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">).</font><font color="#DD0000">"&lt;/a&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"&amp;middot;&lt;a&nbsp;style=\"text-decoration:underline;text-weight:bold;\"&nbsp;href=\"$navvars{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">*&nbsp;</font><font color="#0000BB">$W</font><font color="#007700">).</font><font color="#DD0000">"\"&gt;"</font><font color="#007700">.(</font><font color="#0000BB">$i</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">).</font><font color="#DD0000">"&lt;/a&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">==&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"&lt;a&nbsp;style=\"text-decoration:none;&nbsp;text-weight:bold;\"&nbsp;href=\"$navvars{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">*&nbsp;</font><font color="#0000BB">$W</font><font color="#007700">).</font><font color="#DD0000">"\"&gt;"</font><font color="#007700">.(</font><font color="#0000BB">$i</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">).</font><font color="#DD0000">"&lt;/a&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"&amp;middot;&lt;a&nbsp;style=\"text-decoration:none;&nbsp;text-weight:bold;\"&nbsp;href=\"$navvars{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">*&nbsp;</font><font color="#0000BB">$W</font><font color="#007700">).</font><font color="#DD0000">"\"&gt;"</font><font color="#007700">.(</font><font color="#0000BB">$i</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">).</font><font color="#DD0000">"&lt;/a&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$offset</font><font color="#007700">/</font><font color="#0000BB">$W</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">&gt;&nbsp;</font><font color="#0000BB">1</font><font color="#007700">)&nbsp;&amp;&amp;&nbsp;(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">&lt;&nbsp;(</font><font color="#0000BB">$N</font><font color="#007700">-</font><font color="#0000BB">2</font><font color="#007700">)))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$smart_pages&nbsp;</font><font color="#007700">=&nbsp;array(</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'-'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$i</font><font color="#007700">-</font><font color="#0000BB">1</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$i</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$i</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'-'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$N</font><font color="#007700">-</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">2</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$smart_pages&nbsp;</font><font color="#007700">=&nbsp;array(</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">1</font><font color="#007700">,&nbsp;</font><font color="#0000BB">2</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'-'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$N</font><font color="#007700">-</font><font color="#0000BB">2</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$N</font><font color="#007700">-</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$smart_pages&nbsp;</font><font color="#007700">=&nbsp;array(</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'-'</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$N</font><font color="#007700">-</font><font color="#0000BB">3</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$N</font><font color="#007700">-</font><font color="#0000BB">2</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$N</font><font color="#007700">-</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</font><font color="#0000BB">$smart_pages&nbsp;</font><font color="#007700">as&nbsp;</font><font color="#0000BB">$j</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$j&nbsp;</font><font color="#007700">===&nbsp;</font><font color="#DD0000">"-"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"&amp;middot;..."</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((</font><font color="#0000BB">$offset</font><font color="#007700">/</font><font color="#0000BB">$W</font><font color="#007700">)&nbsp;==&nbsp;(</font><font color="#0000BB">$j</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"&amp;middot;&lt;a&nbsp;style=\"text-decoration:underline;text-weight:bold;\"&nbsp;href=\"$navvars{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.(</font><font color="#0000BB">$j&nbsp;</font><font color="#007700">*&nbsp;</font><font color="#0000BB">$W</font><font color="#007700">).</font><font color="#DD0000">"\"&gt;"</font><font color="#007700">.(</font><font color="#0000BB">$j</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">).</font><font color="#DD0000">"&lt;/a&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$P&nbsp;</font><font color="#007700">.=&nbsp;</font><font color="#DD0000">"&amp;middot;&lt;a&nbsp;style=\"text-decoration:none;&nbsp;text-weight:bold;\"&nbsp;href=\"$navvars{$SYS["NAV_SEPARATOR"]}offset="</font><font color="#007700">.(</font><font color="#0000BB">$j&nbsp;</font><font color="#007700">*&nbsp;</font><font color="#0000BB">$W</font><font color="#007700">).</font><font color="#DD0000">"\"&gt;"</font><font color="#007700">.(</font><font color="#0000BB">$j</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">).</font><font color="#DD0000">"&lt;/a&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">Pager&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$P</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">plParseTemplateHeader</font><font color="#007700">(</font><font color="#0000BB">get_object_vars</font><font color="#007700">(</font><font color="#0000BB">$psObject</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">searchResults&nbsp;</font><font color="#007700">&gt;&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">searchResults&nbsp;</font><font color="#007700">as&nbsp;</font><font color="#0000BB">$key&nbsp;</font><font color="#007700">=&gt;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VNH<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$count</font><font color="#007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;SLOW&nbsp;CODE&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Child&nbsp;inherits&nbsp;parent&nbsp;properties&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">is_object</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$child&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">get_object_vars</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$parent&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">get_object_vars</font><font color="#007700">(</font><font color="#0000BB">$psObject</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$diff&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">array_diff</font><font color="#007700">(</font><font color="#0000BB">array_keys</font><font color="#007700">(</font><font color="#0000BB">$parent</font><font color="#007700">),&nbsp;</font><font color="#0000BB">array_keys</font><font color="#007700">(</font><font color="#0000BB">$child</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$diff&nbsp;</font><font color="#007700">as&nbsp;</font><font color="#0000BB">$k&nbsp;</font><font color="#007700">=&gt;&nbsp;</font><font color="#0000BB">$v</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$v&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">$v</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;If&nbsp;child&nbsp;and&nbsp;parent&nbsp;of&nbsp;different&nbsp;class,&nbsp;typecast&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">name&nbsp;</font><font color="#007700">!=&nbsp;</font><font color="#0000BB">$psObject</font><font color="#007700">-&gt;</font><font color="#0000BB">name</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">typecast</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">,&nbsp;</font><font color="#0000BB">get_class</font><font color="#007700">(</font><font color="#0000BB">$psObject</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Normalization&nbsp;of&nbsp;object*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">_normalize</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;END&nbsp;OF&nbsp;SLOW&nbsp;CODE&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$count</font><font color="#007700">%</font><font color="#0000BB">$parset&nbsp;</font><font color="#007700">==&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">parset&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">False</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;$parset.":".$count.":True";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;$parset.":".$count.":False";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">parset&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">True</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$campos&nbsp;</font><font color="#007700">as&nbsp;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&gt;&nbsp;</font><font color="#0000BB">$type</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$multitype&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">explode</font><font color="#007700">(</font><font color="#DD0000">"#"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$type</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"texto"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">substr</font><font color="#007700">(</font><font color="#0000BB">strip_tags</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$fld</font><font color="#007700">)),&nbsp;</font><font color="#0000BB">0</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">]).</font><font color="#DD0000">"&nbsp;...."</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"parrafo"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">nl2br</font><font color="#007700">(</font><font color="#0000BB">strip_tags</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$fld</font><font color="#007700">),&nbsp;</font><font color="#DD0000">"&lt;br&gt;"</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"fecha"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">==&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#DD0000">""</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%d/%m/%Y"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$fld</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"ref"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$obj&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">explode</font><font color="#007700">(</font><font color="#DD0000">"|"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$class&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$field&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$nfield&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">2</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$void&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">newObject</font><font color="#007700">(</font><font color="#0000BB">$class</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$fld</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(empty(</font><font color="#0000BB">$nfield</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$void</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$field</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$nfield&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$void</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$field</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"xref"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$obj&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">explode</font><font color="#007700">(</font><font color="#DD0000">"|"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$class&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$field&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">2</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$xid&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">is_object</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$void&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">newObject</font><font color="#007700">(</font><font color="#0000BB">$class</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$xid</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$void</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$field</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$void&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">newObject</font><font color="#007700">(</font><font color="#0000BB">$class</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">[</font><font color="#DD0000">"$xid"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">[</font><font color="#DD0000">"$fld"</font><font color="#007700">]&nbsp;=&nbsp;</font><font color="#0000BB">$void</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$field</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"fref"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$obj&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">explode</font><font color="#007700">(</font><font color="#DD0000">"|"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$class&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$field&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">2</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$xid&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$obj</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$void&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">newObject</font><font color="#007700">(</font><font color="#0000BB">$class</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$xid</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$void</font><font color="#007700">-&gt;</font><font color="#0000BB">$field</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"hora"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%H:%M"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">f</font><font color="#007700">(</font><font color="#0000BB">$fld</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"guided"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"code"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//dataDump(get_class_methods($object));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;'&nbsp;Antes:&nbsp;'.$object-&gt;$fld;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"&nbsp;Code&nbsp;"</font><font color="#007700">.</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">].</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">2</font><font color="#007700">],&nbsp;</font><font color="#DD0000">"red"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$aux&nbsp;</font><font color="#007700">=&nbsp;eval(</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">].</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">2</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;"&nbsp;Despues:&nbsp;".$aux;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$object</font><font color="#007700">-&gt;</font><font color="#0000BB">$fld&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$aux</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</font><font color="#DD0000">"select"</font><font color="#007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">$fld</font><font color="#007700">]&nbsp;=&nbsp;eval(</font><font color="#DD0000">"return&nbsp;array("</font><font color="#007700">.</font><font color="#0000BB">$multitype</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">].</font><font color="#DD0000">");"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;$multitype[1];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//dataDump($external);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">is_object</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">plParseTemplate</font><font color="#007700">(</font><font color="#0000BB">get_object_vars</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">),&nbsp;</font><font color="#0000BB">$external</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">plParseTemplate</font><font color="#007700">(</font><font color="#0000BB">$object</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$external</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$vars</font><font color="#007700">[</font><font color="#DD0000">"error"</font><font color="#007700">]&nbsp;.=&nbsp;</font><font color="#DD0000">'&lt;center&gt;&lt;b&gt;No&nbsp;hubo&nbsp;resultados&lt;/b&gt;&lt;/center&gt;'</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</font><font color="#0000BB">$styles</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</font><font color="#0000BB">$nn</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">plParseTemplateFooter</font><font color="#007700">(</font><font color="#0000BB">get_object_vars</font><font color="#007700">(</font><font color="#0000BB">$psObject</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">True</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">?&gt;</font>
</font>
</code></div>
		<br><br>
		<div align="center"><a href="lib_list_ng-index.html">up</a></div>
		<br><br>
		</body>
		