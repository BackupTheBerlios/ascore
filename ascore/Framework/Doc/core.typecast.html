
		<html>
		<head>
		<title>Documentacion CoreG2 Funcion typecast</title>
		</head>
		<style>
		body 		{font-family:verdana,sans,serif; font-size:10px;}
		.mini		{font-size:8px;}
		.box		{border:1px solid gray;background:#EEEEFF;}
		.desc		{font-size:12px;border:1px solid gray; padding:5px;}   
		</style>
		<body>
		<h1>CoreG2 version 0.99.9</h1>
		<h2>typecast</h2>
		<span class="mini">Fichero /local/trabajo/asCore/Framework/../Framework/SubCore/core.php</span>
		<br><br>Funcion<br><br><br><br><div class="desc"> Casting entre clases 
<br>
<br>
</div>
<br><div class="box"><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function&nbsp;</font><font color="#0000BB">typecast</font><font color="#007700">(</font><font color="#0000BB">$old_object</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$new_classname</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</font><font color="#0000BB">class_exists</font><font color="#007700">(</font><font color="#0000BB">$new_classname</font><font color="#007700">))&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;"OLD&lt;br&gt;";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//dataDump($old_object);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$old_serialized_object&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">serialize</font><font color="#007700">(</font><font color="#0000BB">$old_object</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$n</font><font color="#007700">=</font><font color="#0000BB">explode</font><font color="#007700">(</font><font color="#DD0000">":"</font><font color="#007700">,</font><font color="#0000BB">$old_serialized_object</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$new_serialized_object&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#DD0000">'O:'&nbsp;</font><font color="#007700">.&nbsp;</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#0000BB">$new_classname</font><font color="#007700">)&nbsp;.&nbsp;</font><font color="#DD0000">':"'&nbsp;</font><font color="#007700">.&nbsp;</font><font color="#0000BB">$new_classname&nbsp;</font><font color="#007700">.&nbsp;</font><font color="#DD0000">'":'&nbsp;</font><font color="#007700">.</font><font color="#0000BB">$n</font><font color="#007700">[</font><font color="#0000BB">3</font><font color="#007700">].</font><font color="#DD0000">":"</font><font color="#007700">.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">substr</font><font color="#007700">(</font><font color="#0000BB">$old_serialized_object</font><font color="#007700">,&nbsp;</font><font color="#0000BB">strpos</font><font color="#007700">(</font><font color="#0000BB">$old_serialized_object</font><font color="#007700">,</font><font color="#DD0000">"{"</font><font color="#007700">));<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;"Casting&nbsp;OK&nbsp;$old_serialized_object&lt;br&gt;$new_serialized_object";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;"NEW&lt;br&gt;";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//dataDump(unserialize($new_serialized_object));<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">return&nbsp;</font><font color="#0000BB">unserialize</font><font color="#007700">(</font><font color="#0000BB">$new_serialized_object</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"$new_classname&nbsp;no&nbsp;existe&nbsp;o&nbsp;no&nbsp;ha&nbsp;sido&nbsp;definida!!!!"</font><font color="#007700">,</font><font color="#DD0000">"red"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">false</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></font><font color="#FF8000">/*<br /><br />setLimitRows&nbsp;(int&nbsp;numero_de_filas)<br /><br />Especifica&nbsp;el&nbsp;numero&nbsp;de&nbsp;filas&nbsp;a&nbsp;devolver<br />en&nbsp;una&nbsp;consulta.&nbsp;Se&nbsp;aplicará&nbsp;atodas&nbsp;las&nbsp;consultas&nbsp;<br />posteriores&nbsp;a&nbsp;la&nbsp;llamada<br /><br />*/<br /><br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">setLimitRows</font><font color="#007700">(</font><font color="#0000BB">$c</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">,</font><font color="#0000BB">$FAK</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$FAK</font><font color="#007700">=</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"DEFAULTROWS"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"DEFAULTROWS"</font><font color="#007700">]=</font><font color="#0000BB">$c</font><font color="#007700">;<br />}<br /><br /></font><font color="#FF8000">/*<br /><br />resetLimitRows&nbsp;()<br /><br />Restablece&nbsp;&nbsp;el&nbsp;numero&nbsp;de&nbsp;filas&nbsp;a&nbsp;devolver<br />en&nbsp;una&nbsp;consulta&nbsp;al&nbsp;valor&nbsp;por&nbsp;defecto&nbsp;especificado&nbsp;en&nbsp;fichero<br />de&nbsp;configuracion.&nbsp;Se&nbsp;aplicará&nbsp;atodas&nbsp;las&nbsp;consultas&nbsp;<br />posteriores&nbsp;a&nbsp;la&nbsp;llamada<br /><br />*/<br /><br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">resetLimitRows</font><font color="#007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">,</font><font color="#0000BB">$FAK</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"DEFAULTROWS"</font><font color="#007700">]=</font><font color="#0000BB">$FAK</font><font color="#007700">;<br />}<br /><br /></font><font color="#FF8000">/*<br /><br />setNavVars&nbsp;(array&nbsp;variables_navegacion)<br /><br />El&nbsp;array&nbsp;navvars&nbsp;especifica&nbsp;las&nbsp;variables&nbsp;que<br />se&nbsp;pasarán&nbsp;entre&nbsp;diferentes&nbsp;paginas.&nbsp;Esto&nbsp;es&nbsp;útil<br />para&nbsp;la&nbsp;paginación&nbsp;de&nbsp;resultados,&nbsp;manteniendo&nbsp;fijas<br />algunas&nbsp;de&nbsp;ellas.<br /><br />*/<br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">setNavVars</font><font color="#007700">(</font><font color="#0000BB">$vars</font><font color="#007700">)&nbsp;{<br />&nbsp;global&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">;<br /><br />&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAVVARS"</font><font color="#007700">]=</font><font color="#0000BB">array_merge</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAVVARS"</font><font color="#007700">],</font><font color="#0000BB">$vars</font><font color="#007700">);<br /><br />}<br /><br /></font><font color="#FF8000">/*<br /><br />setNavVarsSeparator&nbsp;(separador)<br /><br />Separador&nbsp;de&nbsp;variables&nbsp;&nbsp;(para&nbsp;usar&nbsp;con&nbsp;mod_rewrite)<br /><br />*/<br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">setNavVarsSeparator</font><font color="#007700">(</font><font color="#0000BB">$t</font><font color="#007700">)&nbsp;{<br />&nbsp;global&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">;<br /><br />&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAV_SEPARATOR"</font><font color="#007700">]=</font><font color="#0000BB">$t</font><font color="#007700">;<br />&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAV_SEPARATOR_I"</font><font color="#007700">]=</font><font color="#DD0000">""</font><font color="#007700">;<br /><br />}<br /><br /></font><font color="#FF8000">/*<br /><br />setNavVarsSeparator&nbsp;(separador)<br /><br />Separador&nbsp;de&nbsp;variables&nbsp;&nbsp;(para&nbsp;usar&nbsp;con&nbsp;mod_rewrite)<br /><br />*/<br /><br />/*<br />set_include_dir&nbsp;(string&nbsp;filename|dirname&nbsp;)<br /><br />Usada&nbsp;en&nbsp;la&nbsp;conjuncion&nbsp;con&nbsp;__FILE__<br />Establece&nbsp;una&nbsp;ruta&nbsp;de&nbsp;busqueda&nbsp;para&nbsp;abrir&nbsp;ficheros.<br />Ejemplo&nbsp;común:&nbsp;set_include_dir(__FILE__)&nbsp;establece&nbsp;que&nbsp;se&nbsp;buscara<br />en&nbsp;el&nbsp;directorio&nbsp;del&nbsp;script&nbsp;para&nbsp;hacer&nbsp;una&nbsp;apertura&nbsp;de&nbsp;fichero.<br />(open,&nbsp;fopen,&nbsp;fpassthru...)<br /><br />*/<br /><br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">set_include_dir</font><font color="#007700">(</font><font color="#0000BB">$filename</font><font color="#007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$current</font><font color="#007700">=</font><font color="#0000BB">ini_get</font><font color="#007700">(</font><font color="#DD0000">"include_path"</font><font color="#007700">);&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">ini_set</font><font color="#007700">(</font><font color="#DD0000">"include_path"</font><font color="#007700">,</font><font color="#0000BB">dirname</font><font color="#007700">(</font><font color="#0000BB">$filename</font><font color="#007700">).</font><font color="#0000BB">_PATH_SYMBOL</font><font color="#007700">.</font><font color="#DD0000">"$current"</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">True</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">False</font><font color="#007700">;<br />}<br /><br /></font><font color="#FF8000">/*&nbsp;<br />e_file_exists&nbsp;(string&nbsp;nombre_de_fichero)<br /><br />Chequea&nbsp;la&nbsp;existencia&nbsp;de&nbsp;un&nbsp;fichero<br />buscando&nbsp;en&nbsp;el&nbsp;path&nbsp;actual.&nbsp;Extiende<br />la&nbsp;funcionalidad&nbsp;de&nbsp;file_exists<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />*/<br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">e_file_exists</font><font color="#007700">(</font><font color="#0000BB">$filename</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$CACHE_FILE_EXIST</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$CACHE_FILE_EXIST</font><font color="#007700">[</font><font color="#DD0000">"petitions"</font><font color="#007700">]++;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</font><font color="#0000BB">$CACHE_FILE_EXIST</font><font color="#007700">[</font><font color="#0000BB">$filename</font><font color="#007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$current</font><font color="#007700">=</font><font color="#0000BB">ini_get</font><font color="#007700">(</font><font color="#DD0000">"include_path"</font><font color="#007700">).</font><font color="#0000BB">_PATH_SYMBOL</font><font color="#007700">.</font><font color="#DD0000">"/"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"PATH:&nbsp;$current"</font><font color="#007700">,</font><font color="#DD0000">"red"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$dirs</font><font color="#007700">=</font><font color="#0000BB">explode</font><font color="#007700">(</font><font color="#0000BB">_PATH_SYMBOL</font><font color="#007700">,</font><font color="#0000BB">$current</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$dirs&nbsp;</font><font color="#007700">as&nbsp;</font><font color="#0000BB">$k</font><font color="#007700">=&gt;</font><font color="#0000BB">$v</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">file_exists</font><font color="#007700">(</font><font color="#0000BB">$v</font><font color="#007700">.</font><font color="#DD0000">"/$filename"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#0000BB">$v</font><font color="#007700">.</font><font color="#DD0000">"/$filename"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$res</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#0000BB">$v</font><font color="#007700">.</font><font color="#DD0000">"/$filename"</font><font color="#007700">.</font><font color="#DD0000">"&nbsp;OK"</font><font color="#007700">,</font><font color="#DD0000">"blue"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$CACHE_FILE_EXIST</font><font color="#007700">[</font><font color="#0000BB">$filename</font><font color="#007700">]=</font><font color="#0000BB">$v</font><font color="#007700">.</font><font color="#DD0000">"/$filename"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$CACHE_FILE_EXIST</font><font color="#007700">[</font><font color="#DD0000">"cached"</font><font color="#007700">]++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(</font><font color="#0000BB">$v</font><font color="#007700">.</font><font color="#DD0000">"/$filename"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$CACHE_FILE_EXIST</font><font color="#007700">[</font><font color="#0000BB">$filename</font><font color="#007700">]=</font><font color="#0000BB">false</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">False</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$CACHE_FILE_EXIST</font><font color="#007700">[</font><font color="#0000BB">$filename</font><font color="#007700">];<br />}<br /><br /></font><font color="#FF8000">/*&nbsp;<br />c_fopen&nbsp;(string&nbsp;nombre_de_fichero)<br /><br />Wrapper&nbsp;para&nbsp;fopen,&nbsp;para&nbsp;controlar&nbsp;la&nbsp;cantidad&nbsp;de&nbsp;ficheros&nbsp;abiertos<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />*/<br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">c_fopen</font><font color="#007700">(</font><font color="#0000BB">$fl</font><font color="#007700">,</font><font color="#0000BB">$mode</font><font color="#007700">,</font><font color="#0000BB">$inc</font><font color="#007700">=</font><font color="#0000BB">False</font><font color="#007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$FILES_OPENED</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$FILES_OPENED</font><font color="#007700">[</font><font color="#0000BB">$fl</font><font color="#007700">]=</font><font color="#0000BB">True</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$FILES_OPENED</font><font color="#007700">[</font><font color="#DD0000">"total"</font><font color="#007700">]++;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">fopen</font><font color="#007700">(</font><font color="#0000BB">$fl</font><font color="#007700">,</font><font color="#0000BB">$mode</font><font color="#007700">,</font><font color="#0000BB">$inc</font><font color="#007700">);<br />}<br /></font><font color="#FF8000">/*&nbsp;<br />c_filesize&nbsp;(string&nbsp;nombre_de_fichero)<br /><br />Wrapper&nbsp;para&nbsp;filesize,&nbsp;que&nbsp;busca&nbsp;en&nbsp;el&nbsp;PATH<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />*/<br /><br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">c_filesize</font><font color="#007700">(</font><font color="#0000BB">$filename</font><font color="#007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$serach_name</font><font color="#007700">=</font><font color="#0000BB">e_file_exists</font><font color="#007700">(</font><font color="#0000BB">$filename</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">filesize</font><font color="#007700">(</font><font color="#0000BB">$serach_name</font><font color="#007700">);<br />}<br /><br /></font><font color="#FF8000">/*&nbsp;<br />_fixed(string&nbsp;cade,&nbsp;int&nbsp;size)<br /><br />Wrapper&nbsp;para&nbsp;cademas,&nbsp;las&nbsp;amplia&nbsp;en&nbsp;size/2&nbsp;por&nbsp;cada&nbsp;lado<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />*/<br /><br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">_fixed</font><font color="#007700">(</font><font color="#0000BB">$string</font><font color="#007700">,</font><font color="#0000BB">$len</font><font color="#007700">=</font><font color="#0000BB">17</font><font color="#007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$l</font><font color="#007700">=</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#0000BB">$string</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$l</font><font color="#007700">&lt;</font><font color="#0000BB">$len</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$iz</font><font color="#007700">=</font><font color="#0000BB">str_repeat</font><font color="#007700">(</font><font color="#DD0000">"&amp;nbsp;"</font><font color="#007700">,(</font><font color="#0000BB">$len</font><font color="#007700">-</font><font color="#0000BB">$l</font><font color="#007700">)/</font><font color="#0000BB">2</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$l</font><font color="#007700">%</font><font color="#0000BB">2</font><font color="#007700">!=</font><font color="#0000BB">0</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$de</font><font color="#007700">=</font><font color="#0000BB">str_repeat</font><font color="#007700">(</font><font color="#DD0000">"&amp;nbsp;"</font><font color="#007700">,((</font><font color="#0000BB">$len</font><font color="#007700">-</font><font color="#0000BB">$l</font><font color="#007700">)/</font><font color="#0000BB">2</font><font color="#007700">)-</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$de</font><font color="#007700">=</font><font color="#0000BB">$iz</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#DD0000">"${iz}$string{$de}"</font><font color="#007700">;<br />}<br /><br /></font><font color="#FF8000">/*&nbsp;<br />_rfixed(string&nbsp;cade,&nbsp;int&nbsp;size)<br /><br />Wrapper&nbsp;para&nbsp;cademas,&nbsp;las&nbsp;amplia&nbsp;en&nbsp;size&nbsp;por&nbsp;la&nbsp;derecha<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />*/<br /><br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">_rfixed</font><font color="#007700">(</font><font color="#0000BB">$string</font><font color="#007700">,</font><font color="#0000BB">$len</font><font color="#007700">=</font><font color="#0000BB">25</font><font color="#007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$l</font><font color="#007700">=</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#0000BB">$string</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$l</font><font color="#007700">&lt;</font><font color="#0000BB">$len</font><font color="#007700">)&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$de</font><font color="#007700">=</font><font color="#0000BB">str_repeat</font><font color="#007700">(</font><font color="#DD0000">"&amp;nbsp;"</font><font color="#007700">,(</font><font color="#0000BB">$len</font><font color="#007700">-</font><font color="#0000BB">$l</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#DD0000">"$string{$de}"</font><font color="#007700">;<br />}<br /><br />function&nbsp;</font><font color="#0000BB">_closeSystem</font><font color="#007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">,</font><font color="#0000BB">$DEBUGHANDLER</font><font color="#007700">,</font><font color="#0000BB">$CODEINITTIME</font><font color="#007700">,</font><font color="#0000BB">$monitor</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$CORETIME</font><font color="#007700">=</font><font color="#0000BB">getmicrotime</font><font color="#007700">()-</font><font color="#0000BB">$CODEINITTIME</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"monitor_enabled"</font><font color="#007700">])&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$monitor</font><font color="#007700">-&gt;</font><font color="#0000BB">MonAverageUpdate</font><font color="#007700">(</font><font color="#0000BB">$CORETIME</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$stats</font><font color="#007700">=</font><font color="#0000BB">$monitor</font><font color="#007700">-&gt;</font><font color="#0000BB">MonGetStat</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"Ending&nbsp;System:&nbsp;Pages&nbsp;{$stats["pages"]}&nbsp;Average:{$stats["avg"]}&nbsp;spp"</font><font color="#007700">,</font><font color="#DD0000">"white"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//$monitor-&gt;MonClose();<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"Ending&nbsp;System:&nbsp;Total&nbsp;ms&nbsp;of&nbsp;ASCore:$CORETIME"</font><font color="#007700">,</font><font color="#DD0000">"white"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">fflush</font><font color="#007700">(</font><font color="#0000BB">$DEBUGHANDLER</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">fclose</font><font color="#007700">(</font><font color="#0000BB">$DEBUGHANDLER</font><font color="#007700">);<br />}<br /><br />function&nbsp;</font><font color="#0000BB">getmicrotime</font><font color="#007700">(){&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list(</font><font color="#0000BB">$usec</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$sec</font><font color="#007700">)&nbsp;=&nbsp;</font><font color="#0000BB">explode</font><font color="#007700">(</font><font color="#DD0000">"&nbsp;"</font><font color="#007700">,</font><font color="#0000BB">microtime</font><font color="#007700">());&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;((float)</font><font color="#0000BB">$usec&nbsp;</font><font color="#007700">+&nbsp;(float)</font><font color="#0000BB">$sec</font><font color="#007700">);&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br /><br />function&nbsp;</font><font color="#0000BB">core_ucfirst</font><font color="#007700">(</font><font color="#0000BB">$data</font><font color="#007700">){&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">ucwords</font><font color="#007700">(</font><font color="#0000BB">strtolower</font><font color="#007700">(</font><font color="#0000BB">$data</font><font color="#007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br /><br /></font><font color="#FF8000">/*&nbsp;<br />javascript_collector&nbsp;(string&nbsp;data)<br /><br />Ordena&nbsp;los&nbsp;scripts&nbsp;del&nbsp;buffer<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /></font><font color="#007700">function&nbsp;</font><font color="#0000BB">javascript_collector</font><font color="#007700">(</font><font color="#0000BB">$buffer</font><font color="#007700">)&nbsp;{<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$from</font><font color="#007700">=</font><font color="#0000BB">strpos&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#DD0000">"&lt;script"</font><font color="#007700">,</font><font color="#0000BB">0</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$xhtml</font><font color="#007700">=</font><font color="#0000BB">substr&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">$from</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$from</font><font color="#007700">===</font><font color="#0000BB">False</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</font><font color="#0000BB">$from</font><font color="#007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$to</font><font color="#007700">=</font><font color="#0000BB">strpos&nbsp;</font><font color="#007700">(</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#DD0000">"&lt;/script&gt;"</font><font color="#007700">,</font><font color="#0000BB">$from</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;"Cortar&nbsp;desde&nbsp;$from&nbsp;hasta&nbsp;$to";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$script</font><font color="#007700">.=</font><font color="#0000BB">substr&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">$from</font><font color="#007700">,</font><font color="#0000BB">$to</font><font color="#007700">-</font><font color="#0000BB">$from</font><font color="#007700">+</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#DD0000">"&lt;/script&gt;"</font><font color="#007700">)).</font><font color="#DD0000">"\n"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$from</font><font color="#007700">=</font><font color="#0000BB">strpos&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#DD0000">"&lt;script"</font><font color="#007700">,</font><font color="#0000BB">$to</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$from</font><font color="#007700">===</font><font color="#0000BB">False</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$xhtml</font><font color="#007700">.=</font><font color="#0000BB">substr&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">$to</font><font color="#007700">+</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#DD0000">"&lt;/script&gt;"</font><font color="#007700">),-</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$xhtml</font><font color="#007700">.=</font><font color="#0000BB">substr&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">$to</font><font color="#007700">+</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#DD0000">"&lt;/script&gt;"</font><font color="#007700">),</font><font color="#0000BB">$from</font><font color="#007700">-(</font><font color="#0000BB">$to</font><font color="#007700">+</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#DD0000">"&lt;/script&gt;"</font><font color="#007700">)));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$jpos</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">"&lt;!--_JAVASCRIPTCODE--&gt;"</font><font color="#007700">,</font><font color="#0000BB">$script</font><font color="#007700">,</font><font color="#0000BB">$xhtml</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$jpos</font><font color="#007700">.</font><font color="#DD0000">""</font><font color="#007700">;<br />}<br /><br />function&nbsp;</font><font color="#0000BB">css_collector</font><font color="#007700">(</font><font color="#0000BB">$buffer</font><font color="#007700">)&nbsp;{<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$from</font><font color="#007700">=</font><font color="#0000BB">strpos&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#DD0000">"&lt;style"</font><font color="#007700">,</font><font color="#0000BB">0</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$xhtml</font><font color="#007700">=</font><font color="#0000BB">substr&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">$from</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$from</font><font color="#007700">===</font><font color="#0000BB">False</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</font><font color="#0000BB">$from</font><font color="#007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$to</font><font color="#007700">=</font><font color="#0000BB">strpos&nbsp;</font><font color="#007700">(</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#DD0000">"&lt;/style&gt;"</font><font color="#007700">,</font><font color="#0000BB">$from</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"CSSCOLLETOR:&nbsp;Cortar&nbsp;desde&nbsp;$from&nbsp;hasta&nbsp;$to"</font><font color="#007700">,</font><font color="#DD0000">"white"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$script</font><font color="#007700">.=</font><font color="#0000BB">substr&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">$from</font><font color="#007700">,</font><font color="#0000BB">$to</font><font color="#007700">-</font><font color="#0000BB">$from</font><font color="#007700">+</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#DD0000">"&lt;/style&gt;"</font><font color="#007700">)).</font><font color="#DD0000">"\n"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$from</font><font color="#007700">=</font><font color="#0000BB">strpos&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#DD0000">"&lt;style"</font><font color="#007700">,</font><font color="#0000BB">$to</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$from</font><font color="#007700">===</font><font color="#0000BB">False</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$xhtml</font><font color="#007700">.=</font><font color="#0000BB">substr&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">$to</font><font color="#007700">+</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#DD0000">"&lt;/style&gt;"</font><font color="#007700">),-</font><font color="#0000BB">1</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$xhtml</font><font color="#007700">.=</font><font color="#0000BB">substr&nbsp;</font><font color="#007700">(&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">$to</font><font color="#007700">+</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#DD0000">"&lt;/style&gt;"</font><font color="#007700">),</font><font color="#0000BB">$from</font><font color="#007700">-(</font><font color="#0000BB">$to</font><font color="#007700">+</font><font color="#0000BB">strlen</font><font color="#007700">(</font><font color="#DD0000">"&lt;/style&gt;"</font><font color="#007700">)));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$jpos</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">"&lt;!--_CSSCODE--&gt;"</font><font color="#007700">,</font><font color="#0000BB">$script</font><font color="#007700">,</font><font color="#0000BB">$xhtml</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$jpos</font><font color="#007700">;<br />}<br /><br />if&nbsp;(!</font><font color="#0000BB">function_exists</font><font color="#007700">(</font><font color="#DD0000">"http_build_query"</font><font color="#007700">))&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</font><font color="#0000BB">http_build_query</font><font color="#007700">(</font><font color="#0000BB">$data</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$data&nbsp;</font><font color="#007700">as&nbsp;</font><font color="#0000BB">$keyz</font><font color="#007700">=&gt;</font><font color="#0000BB">$valuez</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">.=</font><font color="#DD0000">"&amp;$keyz=$valuez"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></font><font color="#FF8000">/*&nbsp;Init&nbsp;code&nbsp;of&nbsp;Core&nbsp;*/<br />/*&nbsp;Debug&nbsp;issues&nbsp;*/<br /><br /></font><font color="#0000BB">$CODEINITTIME</font><font color="#007700">=</font><font color="#0000BB">getmicrotime</font><font color="#007700">();<br />if&nbsp;(</font><font color="#0000BB">$TrazaStatus</font><font color="#007700">&amp;&amp;(!isset(</font><font color="#0000BB">$nodebug</font><font color="#007700">)))&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$_SERVER</font><font color="#007700">[</font><font color="#DD0000">"REMOTE_ADDR"</font><font color="#007700">]==</font><font color="#DD0000">"::1"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$_SERVER</font><font color="#007700">[</font><font color="#DD0000">"REMOTE_ADDR_OK"</font><font color="#007700">]=</font><font color="#DD0000">"udp://localhost"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$_SERVER</font><font color="#007700">[</font><font color="#DD0000">"REMOTE_ADDR_OK"</font><font color="#007700">]=</font><font color="#DD0000">"udp://"</font><font color="#007700">.</font><font color="#0000BB">$_SERVER</font><font color="#007700">[</font><font color="#DD0000">"REMOTE_ADDR"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$DEBUGHANDLER</font><font color="#007700">=</font><font color="#0000BB">fsockopen</font><font color="#007700">(</font><font color="#0000BB">$_SERVER</font><font color="#007700">[</font><font color="#DD0000">"REMOTE_ADDR_OK"</font><font color="#007700">],</font><font color="#0000BB">7869</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$DEBUGHANDLER</font><font color="#007700">==</font><font color="#0000BB">False</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$TrazaStatus</font><font color="#007700">=</font><font color="#0000BB">False</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">debug</font><font color="#007700">(</font><font color="#DD0000">"###########################################################################"</font><font color="#007700">,</font><font color="#DD0000">"white"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">fputs</font><font color="#007700">(</font><font color="#0000BB">$DEBUGHANDLER</font><font color="#007700">,</font><font color="#DD0000">''</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">register_shutdown_function</font><font color="#007700">(</font><font color="#DD0000">"_closeSystem"</font><font color="#007700">);<br /><br />}<br /><br /><br /></font><font color="#FF8000">/*&nbsp;Intl&nbsp;support&nbsp;*/<br /><br /></font><font color="#007700">if&nbsp;(isset(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"LANG"</font><font color="#007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">setlocale</font><font color="#007700">(</font><font color="#0000BB">LC_ALL</font><font color="#007700">,&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"LANG"</font><font color="#007700">]);<br /></font><font color="#FF8000">//&nbsp;Specify&nbsp;location&nbsp;of&nbsp;translation&nbsp;tables<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">bindtextdomain</font><font color="#007700">(</font><font color="#DD0000">"coreg2"</font><font color="#007700">,&nbsp;</font><font color="#0000BB">dirname</font><font color="#007700">(</font><font color="#0000BB">__FILE__</font><font color="#007700">).</font><font color="#DD0000">"/../Locale/"</font><font color="#007700">);<br /></font><font color="#FF8000">//&nbsp;Choose&nbsp;domain<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">textdomain</font><font color="#007700">(</font><font color="#DD0000">"coreg2"</font><font color="#007700">);<br />}<br /><br /><br /></font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAV_SEPARATOR"</font><font color="#007700">]=</font><font color="#DD0000">"&amp;amp;"</font><font color="#007700">;<br /></font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAV_SEPARATOR_I"</font><font color="#007700">]=</font><font color="#DD0000">"?"</font><font color="#007700">;<br /><br /><br /><br /></font><font color="#0000BB">?&gt;<br /></font><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;?&gt;</font>
</code></div>
		<br><br>
		<div align="center"><a href="core-index.html">up</a></div>
		<br><br>
		</body>
		