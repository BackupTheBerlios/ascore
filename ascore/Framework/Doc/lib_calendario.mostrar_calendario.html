
		<html>
		<head>
		<title>Documentacion CoreG2 Funcion mostrar_calendario</title>
		</head>
		<style>
		body 		{font-family:verdana,sans,serif; font-size:10px;}
		.mini		{font-size:8px;}
		.box		{border:1px solid gray;background:#EEEEFF;}
		.desc		{font-size:12px;border:1px solid gray; padding:5px;}   
		</style>
		<body>
		<h1>CoreG2 version 0.47.2</h1>
		<h2>mostrar_calendario</h2>
		<span class="mini">Fichero /local/trabajo/asCore/Framework/../Framework/Lib/lib_calendario.php</span>
		<br><br><br><br><div class="desc">}
</div>
<br><div class="box"><code><font color="#000000">
<font color="#007700">&lt;?</font><font color="#0000BB">php<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function&nbsp;</font><font color="#0000BB">mostrar_calendario</font><font color="#007700">(</font><font color="#0000BB">$mes</font><font color="#007700">,</font><font color="#0000BB">$ano</font><font color="#007700">,</font><font color="#0000BB">$parametros_formulario</font><font color="#007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//tomo&nbsp;el&nbsp;nombre&nbsp;del&nbsp;mes&nbsp;que&nbsp;hay&nbsp;que&nbsp;imprimir<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$nombre_mes&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">dame_nombre_mes</font><font color="#007700">(</font><font color="#0000BB">$mes</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//construyo&nbsp;la&nbsp;cabecera&nbsp;de&nbsp;la&nbsp;tabla<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">echo&nbsp;</font><font color="#DD0000">"&lt;table&nbsp;style=\"position:absolute;right:0px;top:45px;border:1px&nbsp;solid&nbsp;gray\"&nbsp;width=200&nbsp;bgcolor=\"#FBEFC7\"&nbsp;cellspacing=3&nbsp;cellpadding=2&nbsp;border=0&nbsp;align=\"right\"&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;tr&gt;&lt;td&nbsp;align=center&gt;&lt;span&nbsp;style=\"cursor:pointer\"&nbsp;onclick=\"getElementById('tabla_calendar').style.display=(getElementById('tabla_calendar').style.display=='none')&nbsp;?&nbsp;''&nbsp;:&nbsp;'none';&nbsp;\"&gt;Calendario&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;tr&gt;&lt;td&nbsp;&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;table&nbsp;&nbsp;width=\"100%\"&nbsp;bgcolor=\"#F1C021\"&nbsp;cellspacing=\"2\"&nbsp;cellpadding=\"2\"&nbsp;border=\"1\"&gt;&lt;tr&gt;&lt;td&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//calculo&nbsp;el&nbsp;mes&nbsp;y&nbsp;ano&nbsp;del&nbsp;mes&nbsp;anterior<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$mes_anterior&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$mes&nbsp;</font><font color="#007700">-&nbsp;</font><font color="#0000BB">1</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$ano_anterior&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$ano</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$mes_anterior</font><font color="#007700">==</font><font color="#0000BB">0</font><font color="#007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$ano_anterior</font><font color="#007700">--;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$mes_anterior</font><font color="#007700">=</font><font color="#0000BB">12</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;a&nbsp;&nbsp;href=?$parametros_formulario&amp;mes=$mes_anterior&amp;ano=$ano_anterior&gt;&amp;lt;&amp;lt;&lt;/a&gt;&lt;/td&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;td&nbsp;align=center&nbsp;style=\"font-size:11px;color:&nbsp;#000000;margin:3px;font-weight:bold;\"&gt;$nombre_mes&nbsp;$ano&lt;/td&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;td&nbsp;align=right&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//calculo&nbsp;el&nbsp;mes&nbsp;y&nbsp;ano&nbsp;del&nbsp;mes&nbsp;siguiente<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$mes_siguiente&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$mes&nbsp;</font><font color="#007700">+&nbsp;</font><font color="#0000BB">1</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$ano_siguiente&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">$ano</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$mes_siguiente</font><font color="#007700">==</font><font color="#0000BB">13</font><font color="#007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$ano_siguiente</font><font color="#007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$mes_siguiente</font><font color="#007700">=</font><font color="#0000BB">1</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;a&nbsp;href=?$parametros_formulario&amp;mes=$mes_siguiente&amp;ano=$ano_siguiente&gt;&amp;gt;&amp;gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">'&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;&lt;td&nbsp;id="tabla_calendar"&nbsp;style="display:none"&gt;&lt;table&nbsp;width="100%"&gt;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width=14%&nbsp;align=center&nbsp;class=altn&gt;L&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width=14%&nbsp;align=center&nbsp;class=altn&gt;M&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width=14%&nbsp;align=center&nbsp;class=altn&gt;X&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width=14%&nbsp;align=center&nbsp;class=altn&gt;J&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width=14%&nbsp;align=center&nbsp;class=altn&gt;V&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width=14%&nbsp;align=center&nbsp;class=altn&gt;S&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width=14%&nbsp;align=center&nbsp;class=altn&gt;D&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;'</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//Variable&nbsp;para&nbsp;llevar&nbsp;la&nbsp;cuenta&nbsp;del&nbsp;dia&nbsp;actual<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$dia_actual&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">1</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//calculo&nbsp;el&nbsp;numero&nbsp;del&nbsp;dia&nbsp;de&nbsp;la&nbsp;semana&nbsp;del&nbsp;primer&nbsp;dia<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$numero_dia&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">calcula_numero_dia_semana</font><font color="#007700">(</font><font color="#0000BB">1</font><font color="#007700">,</font><font color="#0000BB">$mes</font><font color="#007700">,</font><font color="#0000BB">$ano</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;"Numero&nbsp;del&nbsp;dia&nbsp;de&nbsp;demana&nbsp;del&nbsp;primer:&nbsp;$numero_dia&nbsp;&lt;br&gt;";<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//calculo&nbsp;el&nbsp;último&nbsp;dia&nbsp;del&nbsp;mes<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$ultimo_dia&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">ultimoDia</font><font color="#007700">(</font><font color="#0000BB">$mes</font><font color="#007700">,</font><font color="#0000BB">$ano</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//escribo&nbsp;la&nbsp;primera&nbsp;fila&nbsp;de&nbsp;la&nbsp;semana<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">echo&nbsp;</font><font color="#DD0000">"&lt;tr&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</font><font color="#0000BB">$i</font><font color="#007700">=</font><font color="#0000BB">0</font><font color="#007700">;</font><font color="#0000BB">$i</font><font color="#007700">&lt;</font><font color="#0000BB">7</font><font color="#007700">;</font><font color="#0000BB">$i</font><font color="#007700">++){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">$numero_dia</font><font color="#007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//si&nbsp;el&nbsp;dia&nbsp;de&nbsp;la&nbsp;semana&nbsp;i&nbsp;es&nbsp;menor&nbsp;que&nbsp;el&nbsp;numero&nbsp;del&nbsp;primer&nbsp;dia&nbsp;de&nbsp;la&nbsp;semana&nbsp;no&nbsp;pongo&nbsp;nada&nbsp;en&nbsp;la&nbsp;celda<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">echo&nbsp;</font><font color="#DD0000">"&lt;td&gt;&lt;/td&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;td&nbsp;align=center&gt;&lt;a&nbsp;href=\"?$parametros_formulario&amp;day2analize="</font><font color="#007700">.</font><font color="#0000BB">mktime</font><font color="#007700">(</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">1</font><font color="#007700">,</font><font color="#0000BB">$mes</font><font color="#007700">,</font><font color="#0000BB">$dia_actual</font><font color="#007700">,</font><font color="#0000BB">$ano</font><font color="#007700">).</font><font color="#DD0000">"\"&gt;$dia_actual&lt;/a&gt;&lt;/td&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$dia_actual</font><font color="#007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;/tr&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//recorro&nbsp;todos&nbsp;los&nbsp;demás&nbsp;días&nbsp;hasta&nbsp;el&nbsp;final&nbsp;del&nbsp;mes<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$numero_dia&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">0</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</font><font color="#0000BB">$dia_actual&nbsp;</font><font color="#007700">&lt;=&nbsp;</font><font color="#0000BB">$ultimo_dia</font><font color="#007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//si&nbsp;estamos&nbsp;a&nbsp;principio&nbsp;de&nbsp;la&nbsp;semana&nbsp;escribo&nbsp;el&nbsp;&lt;TR&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$numero_dia&nbsp;</font><font color="#007700">==&nbsp;</font><font color="#0000BB">0</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;tr&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;td&nbsp;align=center&gt;&lt;a&nbsp;href=\"?$parametros_formulario&amp;day2analize="</font><font color="#007700">.</font><font color="#0000BB">mktime</font><font color="#007700">(</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">1</font><font color="#007700">,</font><font color="#0000BB">$mes</font><font color="#007700">,</font><font color="#0000BB">$dia_actual</font><font color="#007700">,</font><font color="#0000BB">$ano</font><font color="#007700">).</font><font color="#DD0000">"\"&gt;$dia_actual&lt;/a&gt;&lt;/td&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$dia_actual</font><font color="#007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$numero_dia</font><font color="#007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//si&nbsp;es&nbsp;el&nbsp;uñtimo&nbsp;de&nbsp;la&nbsp;semana,&nbsp;me&nbsp;pongo&nbsp;al&nbsp;principio&nbsp;de&nbsp;la&nbsp;semana&nbsp;y&nbsp;escribo&nbsp;el&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">$numero_dia&nbsp;</font><font color="#007700">==&nbsp;</font><font color="#0000BB">7</font><font color="#007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$numero_dia&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">0</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;/tr&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//compruebo&nbsp;que&nbsp;celdas&nbsp;me&nbsp;faltan&nbsp;por&nbsp;escribir&nbsp;vacias&nbsp;de&nbsp;la&nbsp;última&nbsp;semana&nbsp;del&nbsp;mes<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">for&nbsp;(</font><font color="#0000BB">$i</font><font color="#007700">=</font><font color="#0000BB">$numero_dia</font><font color="#007700">;</font><font color="#0000BB">$i</font><font color="#007700">&lt;</font><font color="#0000BB">7</font><font color="#007700">;</font><font color="#0000BB">$i</font><font color="#007700">++){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;td&gt;&lt;/td&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;/tr&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</font><font color="#DD0000">"&lt;/tr&gt;&lt;/td&gt;&lt;/table&gt;"</font><font color="#007700">;<br />}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">?&gt;</font>
</font>
</code></div>
		<br><br>
		<div align="center"><a href="lib_calendario-index.html">up</a></div>
		<br><br>
		</body>
		